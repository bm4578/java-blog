"use strict";(self["webpackChunkvuetify"]=self["webpackChunkvuetify"]||[]).push([[508],{30508:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("v-container",{staticClass:"grey lighten-5"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("br"),a("br"),a("div",{staticStyle:{display:"flex"}},[a("p",{staticStyle:{"margin-right":"20px","margin-top":"10px"}},[t._v("标题*")]),a("v-text-field",{ref:"name",attrs:{label:"请输入标题",outlined:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticStyle:{display:"flex"}},[a("p",{staticStyle:{"margin-right":"20px","margin-top":"10px"}},[t._v("内容*")]),a("div",{attrs:{id:"demo1"}})]),a("br"),a("div",{staticStyle:{display:"flex"}},[a("p",{staticStyle:{"margin-right":"20px","margin-top":"10px"}},[t._v("缩略图*")]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:this.urlImg,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?a("img",{attrs:{src:t.imageUrl,width:"400px",height:"150px"}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("br"),a("br"),a("el-button",{attrs:{type:"success"},on:{click:t.getEditorData}},[t._v("立即发布")])],1)],1)],1)],1)},s=[],r=(a(68309),a(41539),a(78783),a(33948),a(41637),a(13987)),l=a.n(r),n=a(26166),o=a.n(n),c=a(99929);const d={name:"About",data:function(){return{editor:null,editorData:"",name:"",imageUrl:"",urlImg:"/file/files/oss",checked:!0,user:[]}},mounted:function(){var t=this,e=new(l())("#demo1");e.config.onchange=function(e){t.editorData=e},e.create(),this.editor=e,this.checked&&(this.uid=0),this.user=JSON.parse(window.localStorage.getItem("user")),o().post("/api/article/list/"+this.$route.params.uid).then((function(a){t.name=a.data.data[0].articleTitle,e.txt.append(a.data.data[0].articleList),t.imageUrl=a.data.data[0].articleImg}))},methods:{getEditorData:function(){var t=this,e=this.editor.txt.html(),a=new URLSearchParams;a.append("articleId",this.$route.params.uid),a.append("articleTitle",this.name),a.append("articleList",e),a.append("articleImg",this.imageUrl),o().post("/api/article/list/updateArticle",a).then((function(e){e.data.data&&(t.$message({message:"恭喜你，文章修改成功",type:"success"}),c.Z.push("/home"))}))},handleAvatarSuccess:function(t,e){this.imageUrl=t},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a}},beforeDestroy:function(){this.editor.destroy(),this.editor=null}},p=d;var u=a(1001),m=(0,u.Z)(p,i,s,!1,null,"7a442981",null);const h=m.exports}}]);
//# sourceMappingURL=508.1e15b196.js.map