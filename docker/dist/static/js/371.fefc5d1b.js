"use strict";(self["webpackChunkvuetify"]=self["webpackChunkvuetify"]||[]).push([[371],{8371:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app"},[a("v-container",{staticClass:"grey lighten-5"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("div",{staticStyle:{display:"flex"}},[a("p",{staticStyle:{"margin-right":"20px","margin-top":"10px"}},[e._v("用户名*")]),a("v-text-field",{model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1)])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("div",{staticStyle:{display:"flex"}},[a("p",{staticStyle:{"margin-right":"20px","margin-top":"10px"}},[e._v("缩略图*")]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:this.urlImg,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{attrs:{src:e.imageUrl,width:"150px",height:"150px"}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("br"),a("br"),a("el-button",{attrs:{type:"success"},on:{click:e.getEditorData}},[e._v("立即发布")])],1)],1)],1)],1)},r=[],i=(a(41539),a(78783),a(33948),a(41637),a(26166)),l=a.n(i);a(99929);const n={name:"carouselEdit",data:function(){return{imageUrl:"",urlImg:"/file/files/oss",username:"",checked:!0,user:[]}},mounted:function(){this.user=JSON.parse(window.localStorage.getItem("user")),this.imageUrl=this.user.isImg,this.username=this.user.username},methods:{getEditorData:function(){var e=this,t=new URLSearchParams;t.append("id",this.user.id),t.append("username",this.user.username),t.append("isImg",this.imageUrl),l().put("/api/user",t).then((function(t){t.data.data?(e.$message({message:"恭喜你，修改成功",type:"success"}),localStorage.clear(),location.reload()):e.$message.error("错了哦，修改失败")}))},handleAvatarSuccess:function(e,t){this.imageUrl=e},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}},u=n;var c=a(1001),o=(0,c.Z)(u,s,r,!1,null,"2f9154dc",null);const p=o.exports}}]);
//# sourceMappingURL=371.fefc5d1b.js.map