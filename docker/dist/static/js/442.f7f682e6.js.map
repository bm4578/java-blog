{"version":3,"file":"static/js/442.f7f682e6.js","mappings":"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","sources":["webpack://vuetify/./src/components/Edit.vue?8432","webpack://vuetify/src/components/Edit.vue","webpack://vuetify/./src/components/Edit.vue?d29c","webpack://vuetify/./src/components/Edit.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('v-container',{staticClass:\"grey lighten-5\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('br'),_c('br'),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"}},[_vm._v(\"标题*\")]),_c('v-text-field',{ref:\"name\",attrs:{\"label\":\"请输入标题\",\"outlined\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"}},[_vm._v(\"内容*\")]),_c('div',{attrs:{\"id\":\"demo1\"}})]),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"}},[_vm._v(\"缩略图*\")]),_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":this.urlImg,\"show-file-list\":false,\"multiple\":\"\",\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"margin-right\":\"20px\",\"margin-top\":\"10px\"}},[_vm._v(\"读者*\")]),_c('br'),_c('el-checkbox',{staticStyle:{\"margin-top\":\"10px\"},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}})],1),_c('br'),_c('br'),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.getEditorData}},[_vm._v(\"立即发布\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app\">\n    <v-container class=\"grey lighten-5\">\n      <!-- Stack the columns on mobile by making one full-width and the other half-width -->\n      <v-row>\n        <v-col\n            cols=\"12\"\n            md=\"12\"\n        >\n          <br>\n          <br>\n          <div style=\"display: flex\">\n          <p style=\"margin-right: 20px;margin-top: 10px\">标题*</p>\n            <v-text-field\n                ref=\"name\"\n                v-model=\"name\"\n                label=\"请输入标题\"\n                outlined\n            ></v-text-field>\n          </div>\n          <div style=\"display: flex\">\n          <p style=\"margin-right: 20px;margin-top: 10px\">内容*</p>\n          <div id=\"demo1\"></div>\n          </div>\n          <div style=\"display: flex\">\n            <p style=\"margin-right: 20px;margin-top: 10px\">缩略图*</p>\n             <el-upload\n              class=\"avatar-uploader\"\n              :action='this.urlImg'\n              :show-file-list=\"false\"\n              multiple\n              :on-success=\"handleAvatarSuccess\"\n              :before-upload=\"beforeAvatarUpload\">\n            <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          </el-upload>\n          </div>\n          <div style=\"display: flex\">\n            <p style=\"margin-right: 20px;margin-top: 10px\">读者*</p>\n            <br>\n            <el-checkbox v-model=\"checked\" style=\"margin-top: 10px\"></el-checkbox>\n          </div>\n          <br>\n          <br>\n            <el-button type=\"success\" @click=\"getEditorData\">立即发布</el-button>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\n// 引入 wangEditor\nimport wangEditor from 'wangeditor'\nimport axios from \"axios\";\nimport router from \"@/router\";\nexport default {\n  name: \"edit\",\n  data() {\n    return {\n      editor: null,\n      editorData: '',\n      name:\"\",\n      imageUrl: '',\n      urlImg:'/file/files/oss',\n      checked: true,\n      uid :''\n    }\n  },\n  mounted() {\n    const editor = new wangEditor(`#demo1`)\n\n    // 配置 onchange 回调函数，将数据同步到 vue 中\n    editor.config.onchange = (newHtml) => {\n      this.editorData = newHtml\n    }\n    // 创建编辑器\n    editor.create()\n    this.editor = editor\n    if (this.checked){\n      this.uid = 0\n    }\n  },\n  methods: {\n\n    getEditorData() {\n      // 通过代码获取编辑器内容\n      let data = this.editor.txt.html()\n      //使用表单传递参数\n      const params =  new URLSearchParams();\n      params.append(\"uid\",this.uid)\n      params.append(\"articleTitle\",this.name)\n      params.append(\"articleList\",data)\n      params.append(\"articleImg\",this.imageUrl)\n      axios.post('/api/article/list/addArticle',params).then(resp=>{\n        if (resp.data.data){\n          this.$message({\n            message: '恭喜你，文章添加成功',\n            type: 'success'\n          });\n          router.push(\"/home\")\n        }\n      })\n    },\n    handleAvatarSuccess(res, file) {\n\n      this.imageUrl = res\n    },\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg';\n      const isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG 格式!');\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isJPG && isLt2M;\n    }\n  },\n  beforeDestroy() {\n    // 调用销毁 API 对当前编辑器实例进行销毁\n    this.editor.destroy()\n    this.editor = null\n  }\n}\n</script>\n\n<style scoped>\n.app{\n  width: 100%;\n  margin: 0 auto;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=1d7c9270&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&id=1d7c9270&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d7c9270\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","ref","model","value","callback","$$v","name","expression","urlImg","handleAvatarSuccess","beforeAvatarUpload","imageUrl","checked","on","getEditorData","staticRenderFns","data","editor","editorData","uid","mounted","config","onchange","create","methods","params","append","axios","resp","message","type","router","res","file","isJPG","$message","error","isLt2M","beforeDestroy","destroy","component"],"sourceRoot":""}