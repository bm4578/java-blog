"use strict";(self["webpackChunkvuetify"]=self["webpackChunkvuetify"]||[]).push([[694],{46694:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-data-table",{staticClass:"elevation-1",attrs:{search:e.search,headers:e.headers,items:e.desserts,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:""}},[s("v-toolbar-title",[e._v("轮播图")]),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),s("v-spacer"),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"10"}},[s("v-text-field",{attrs:{label:"公告"},model:{value:e.editedItem.sysText,callback:function(t){e.$set(e.editedItem,"sysText",t)},expression:"editedItem.sysText"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" 取消 ")]),s("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" 保存 ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")])]}},{key:"no-data",fn:function(){return[s("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])})],1)},a=[],n=(s(82772),s(41539),s(78783),s(33948),s(41637),s(26166)),r=s.n(n);const l={name:"carousel",data:function(){return{imageUrl:"",checked:!0,urlImg:"/file/files/oss",search:"",dialog:!1,dialogDelete:!1,headers:[{text:"id",align:"start",sortable:!1,value:"sysId"},{text:"公告",value:"sysText",sortable:!1,filterable:!1},{text:"更新时间",value:"sysUpdate",sortable:!1,filterable:!1},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{sysId:"",sysUpdate:"",sysText:""},defaultItem:{sysId:"",sysUpdate:"",sysText:""},text:"",id:""}},computed:{formTitle:function(){return-1===this.editedIndex?"添加":"编辑"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;r().get("/api/SysAnnouncement").then((function(t){e.desserts=t.data.data}))},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.text=e.sysText,this.id=e.sysId,this.dialog=!0},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this,t=new URLSearchParams;t.append("sysId",this.id),t.append("sysText",this.editedItem.sysText),r().put("/api/SysAnnouncement",t).then((function(t){t.data.data?(e.$message({message:"恭喜你，修改成功",type:"success"}),e.initialize()):e.$message.error("错了哦，修改失败")})),this.close()},handleAvatarSuccess:function(e,t){this.imageUrl=e},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,s=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&s}}},d=l;var o=s(1001),c=(0,o.Z)(d,i,a,!1,null,null,null);const u=c.exports}}]);
//# sourceMappingURL=694.e0840404.js.map