"use strict";(self["webpackChunkvuetify"]=self["webpackChunkvuetify"]||[]).push([[325],{54325:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",[i("v-data-table",{staticClass:"elevation-1",attrs:{search:e.search,headers:e.headers,items:e.desserts,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("文章管理")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-card-title",[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"用户名查询","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[e._v("您确定要删除吗?")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("取消")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("确定")]),i("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var s=t.item;return[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil ")]),i("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[i("v-btn",{attrs:{color:"primary"}},[e._v(" 没有文章哦 ")])]},proxy:!0}])})],1)},a=[],l=(i(82772),i(26166)),n=i.n(l);const r={data:function(){return{user:[],search:"",dialog:!1,dialogDelete:!1,headers:[{text:"用户名",align:"start",sortable:!1,value:"username"},{text:"标题",value:"articleTitle",sortable:!1,filterable:!1},{text:"发布时间",value:"articleCreate",sortable:!1,filterable:!1},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{username:"",articleTitle:""},defaultItem:{username:"",articleTitle:""},deleteID:""}},computed:{formTitle:function(){return-1===this.editedIndex?"添加":"编辑"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;this.user=JSON.parse(window.localStorage.getItem("user")),n().get("/api/article/"+this.user.username).then((function(t){e.desserts=t.data.data}))},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.$router.push({name:"pagesEdit",params:{uid:e.articleId}})},deleteItem:function(e){this.deleteID=e.articleId,this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;n().get("/api/article/list/deleteArticle",{params:{id:this.deleteID}}).then((function(t){t.data.data?(e.$message({message:"恭喜你，删除成功",type:"success"}),e.initialize()):e.$message.error("错了哦，删除失败")})),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()}}},d=r;var c=i(1001),o=(0,c.Z)(d,s,a,!1,null,null,null);const u=o.exports}}]);
//# sourceMappingURL=325.11322ad7.js.map