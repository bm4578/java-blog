"use strict";(self["webpackChunkvuetify"]=self["webpackChunkvuetify"]||[]).push([[433],{27433:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app"},[s("v-container",{staticClass:"grey lighten-5",staticStyle:{"margin-top":"50px"}},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{order:"last"}}),s("v-col",{staticClass:"module"},[s("v-card",{attrs:{width:"500px",height:"430px"}},[s("br"),s("v-card-title",[s("el-divider",[s("h1",{staticStyle:{margin:"0 auto","font-size":"2em"}},[e._v("欢迎登录")])])],1),s("br"),s("v-form",{ref:"user",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-col",{staticStyle:{margin:"0 auto"},attrs:{cols:"12",sm:"6",md:"8"}},[s("v-text-field",{attrs:{label:"用户名",rules:[e.rules.required],required:"",outlined:"",dense:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),s("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required],type:e.show1?"text":"password",name:"input-10-1",label:"密码",outlined:"",dense:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),s("div",{staticStyle:{display:"flex"}},[s("v-text-field",{staticStyle:{width:"100px"},attrs:{label:"验证码",rules:[e.rules.required],required:"",outlined:"",dense:""},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}}),s("img",{staticStyle:{height:"40px",width:"90px","margin-left":"2px"},attrs:{src:this.imgUrl,alt:""},on:{click:e.ImgCode}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.submit(e.user)}}},[e._v(" 立即登录 ")]),s("v-btn",{attrs:{color:"green darken-1",text:""}},[e._v(" 忘记密码 ")])],1)],1)],1),s("v-col",{attrs:{order:"first"}})],1)],1)],1)},a=[],i=(s(83710),s(41539),s(78783),s(33948),s(41637),s(38862),s(74916),s(15306),s(32564),s(26166)),n=s.n(i),o=s(99929);const l={name:"Login",data:function(){return{valid:!0,show1:!1,imgUrl:"/api/user/imgCode",rules:{required:function(e){return!!e||"不能为空"}},user:{username:"admin",password:"1234",code:""}}},mounted:function(){this.$store.dispatch("actionsUpdate")},methods:{ImgCode:function(){this.imgUrl="/api/user/imgCode?time="+new Date},submit:function(){var e=this,t=new URLSearchParams;t.append("username",this.user.username),t.append("password",this.user.password),t.append("code",this.user.code),n().post("/api/user/login",t).then((function(t){if(602===t.data.code||500===t.data.code)e.$notify.error({title:"错误",message:"您好！"+t.data.msg});else{var s=t.data.token;window.localStorage.setItem("token",s),window.localStorage.setItem("condition",JSON.stringify(!0)),window.localStorage.setItem("username",JSON.stringify(e.user.username)),e.$notify({title:"成功",message:"欢迎您"+e.user.username,type:"success"}),o.Z.replace({name:"home"}),setTimeout((function(){location.reload()}),500)}}))}}},u=l;var d=s(1001),c=(0,d.Z)(u,r,a,!1,null,"35ad0848",null);const m=c.exports}}]);
//# sourceMappingURL=433.d52c4959.js.map